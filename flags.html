<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Βρες τους γείτονες</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <script src="countries.js"></script>
    <script src="spiros.js">

    </script>
    <script>
        // Ένας βοηθητικός πίνακας που θα περιέχει τις χώρες από το countries.js σε λίγο πιο βολική μορφή
        const allCountries = new Array();
        // πχ. allCountries['GRE'] = { code2: "GR", name: "Greece"}, ή κάτι παρόμοιο 

        // Εδώ μπορείτε να βάλετε τον κώδικα για όλο το παιχνίδι
        // Μπορείτε γράψετε κλάσεις που να έχουν κάποια συμπεριφορά, 
        // π.χ. Game, PlayingCountry, Neighbour, ...
        // ή να και ακολουθήσετε άλλη τακτική, που να σας είναι πιο προσιτή

        document.addEventListener("DOMContentLoaded", () => {
            //start a new Game
            //...

            //event listener to new game button
            document.querySelector("#btn-new-game").addEventListener("click", () => {
                // ...
                var i=0;
                for (i = 0; i < 11; i++) {
                    if (i < 3) {
                        var countryCode = "grc";
                        var countryName = "Greece";
                    } else if (i < 6) {
                        var countryCode = "swe";
                        var countryName = "Sweden";  
                    }
                    else if (i < 9) {
                        var countryCode = "bra";
                        var countryName = "Brazil";  
                    }
                    else {
                        var countryCode = "ita";
                        var countryName = "Italy";  
                    }
                    var countryDiv = document.createElement('div');
                    var countryDivImage = document.createElement('img');
                    var countryDivName = document.createElement('p');
                    var element = document.getElementById("countries_list");
                    countryDiv.setAttribute("id", "id_" + countryCode);
                    countryDiv.setAttribute("class", "flex-country");
                    if (i%2 === 0)
                        countryDiv.setAttribute("style", "border: 5px solid red; background-color: #e8e8e8");       // if country wrong
                    else
                        countryDiv.setAttribute("style", "border: 5px solid green; background-color: #e8e8e8");     // if country correct
                    countryDivImage.src = 'https://restcountries.eu/data/' + countryCode + '.svg';
                    countryDivName.innerHTML = countryName;
                    countryDivName.setAttribute("style","text-align: center");
                    countryDiv.appendChild(countryDivImage);
                    countryDiv.appendChild(countryDivName);
                    element.appendChild(countryDiv);
                }
            });
            

            //event listener to next round button
            document.querySelector("#btn-next-round").addEventListener("click", () => {
                // ...
            })

        });
    </script>
</head>

<body>
    <div class="game-panel">
        <!-- 
                Γράψτε εδώ τον κώδικα HTML που χρειάζεστε για το παιχνίδι.
                Κάποια από τα στοιχεία (elements) της σελίδας προστίθενται και
                αφαιρούνται δυναμικά, μέσα από τη JavaScript, π.χ. οι σημαίες 
                των γειτονικών χωρών κ.ά.
            -->
            <div class="sidenav">
                <p><strong>Βρες τους γείτονες</strong></p><br>
                <div style="overflow: hidden;">
                    <p style="float: left;">Γύρος: </p>
                    <p style="float: right;">0</p>
                </div>
                <div style="overflow: hidden;">
                    <p style="float: left;">Σκορ: </p>
                    <p style="float: right;">0</p>
                </div>
                <br><br><br><br><br>
                <div class="text-center">
                    <button id="btn-next-round" class="btn btn-light btn-block" disabled>Επόμενη Χώρα</button>
                    <button id="btn-new-game" class="btn btn-light btn-block">Νέο Παιχνίδι</button>
                </div>
              </div>
              <div class="main">
                <h2><img id="header_img" src="https://restcountries.eu/data/grc.svg">Greece</h2>
                <div class="progress">
                    <div class="progress-bar" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <ul class="flex-container wrap" id="countries_list">
                </ul>
            </div>  
    </div>
</body>

<script>
//Το παρακάτω αφορά μόνο τους χρήστες macOS.
if (navigator.appVersion.indexOf("Macintosh")>0){
  document.body.style.fontFamily = '"Open Sans"';
}
</script>

</html>